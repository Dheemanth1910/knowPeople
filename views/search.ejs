<html lang="en" >
    <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.118.2">
    <title>Search User</title>

    <link rel="canonical" href="https://getbootstrap.com/docs/5.3/examples/album/">

    

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

    <link rel="stylesheet" href="stylesheets/searchstyles.css">
    
  </head>
  <body>
    <div class="container-fluid fixed-top">
        <header class="d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom">
          <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto link-body-emphasis text-decoration-none">
            <img src="./images/img.svg" alt="Logo" width="30" height="24" class="d-inline-block align-text-top">
            <span class="fs-4">knowPeople</span>
          </a>
            <ul class="nav nav-pills">
            <li class="nav-item"><a href="/home" class="nav-link" aria-current="page">Home</a></li>
            <li class="nav-item"><a href="/profile" class="nav-link ">Profile</a></li>
            <li class="nav-item"><a href="/search" class="nav-link active">Search</a></li>
            <li class="nav-item"><a href="#" class="nav-link">Logout</a></li>
          </ul>
        </header>
      </div>
    <main>

    <section class="py-5 text-center container">
        <div class="row py-lg-5">
        <div class="col-lg-6 col-md-8 mx-auto">
            <h1 class="fw-light">Find your match! </h1>
            <p class="lead text-body-secondary">Select your preferences below and our website shows you all the users who have matched your preferences.</p>
        </div>
        </div>
    </section>
    <div class="container">
        <div class="row">
            <div class="col-2"> 
                <div class="card-sm icon outdoor"><a><img src="images/hiking.png" class="rounded mx-auto" height="200" width="200" alt="Outdoor Adventure"></a>
                    <p>outdoor</p>
                </div>
             </div>
             <div class="col-2"> 
                <div class="card-sm icon cooking"><a><img src="images/cooking.png" class="rounded mx-auto" height="200" width="200" alt="Cooking and Culinary Arts"></a>
                    <p>Cooking and Culinary Arts</p>
                </div>
             </div>
             <div class="col-2 " > 
                <div class="card-sm icon gaming"><a><img src="images/gamepad.png" class="rounded mx-auto" height="200" width="200" alt="Gaming"></a>
                    <p>Gaming</p>
                </div>
             </div>
             <div class="col-2 "> 
                <div class="card-sm icon art"><a><img src="images/art.png" class="rounded mx-auto" height="200" width="200" alt="Art & Creativity"></a>
                    <p>Art and Creativity</p>
                </div>
             </div>
             <div class="col-2 "> 
                <div class="card-sm icon travel"><a><img src="images/travel-luggage.png" class="rounded mx-auto" height="200" width="200" alt="Travel"></a>
                    <p>Travel</p>
                </div>
            </div>
            <div class="col-2"> 
                <div class="card-sm icon sports"><a><img src="images/dumbbell.png" class="rounded mx-auto" height="200" width="200" alt="Sports and Fitness"></a>
                    <p>Fitness and Sports</p>
                </div>
             </div>
        </div>
        <div class="row">
            <div class="col-2"> 
                <div class="card-sm icon read"><a><img src="images/book.png" class="rounded mx-auto" height="200" width="200" alt="Reading"></a>
                    <p>Reading</p>
                </div>
             </div>
             <div class="col-2"> 
                <div class="card-sm music"><a><img src="images/music.png" class="rounded mx-auto" height="200" width="200" alt="Music"></a>
                    <p>Music</p>
                </div>
             </div>
             <div class="col-2"> 
                <div class="card-sm icon tech"><a><img src="images/innovation.png" class="rounded mx-auto" height="200" width="200" alt="Technology and Gadgets"></a>
                    <p>Technology and Gadgets</p>
                </div>
             </div>
             <div class="col-2"> 
                <div class="card-sm icon fashion"><a><img src="images/trade-show.png" class="rounded mx-auto" height="200" width="200" alt="Fashion and Style"></a>
                    <p>Fashion and Style</p>
                </div>
             </div>
             <div class="col-2"> 
                <div class="card-sm icon phot"><a><img src="images/camera.png" class="rounded mx-auto" height="200" width="200" alt="Photography"></a>
                    <p>Photography</p>
                </div>
            </div>
            <div class="col-2"> 
                <div class="card-sm icon science"><a><img src="images/atom.png" class="rounded mx-auto" height="200" width="200" alt="Science and Astronomy"></a>
                    <p>Science and Astronomy</p>
                </div>
             </div>
        </div>
    </div>
    <div class="album py-5 bg-body-tertiary">
        <div class="container">
        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3" id="userContainer">
            
        </div>
    </div>

    </main>
    <div class="border-top">
        <footer class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 ">
        <div class="col-md-4 d-flex align-items-center">
            <a href="/" class="mb-3 me-2 mb-md-0 text-body-secondary text-decoration-none lh-1">
            <svg class="bi" width="30" height="24"><use xlink:href="#bootstrap"></use></svg>
            </a>
            <span class="mb-3 mb-md-0 text-body-secondary">Â© 2024 KnowPeople Inc</span>
        </div>
    
        <ul class="nav col-md-4 justify-content-end list-unstyled d-flex">
            <li class="ms-3"><a class="text-body-secondary" href="#"><svg class="bi" width="24" height="24"><use xlink:href="#twitter"></use></svg></a></li>
            <li class="ms-3"><a class="text-body-secondary" href="#"><svg class="bi" width="24" height="24"><use xlink:href="#instagram"></use></svg></a></li>
            <li class="ms-3"><a class="text-body-secondary" href="#"><svg class="bi" width="24" height="24"><use xlink:href="#facebook"></use></svg></a></li>
        </ul>
        </footer>
    </div>
    

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script>
        function displayUsers(data){
            let htmlData = '' ;
            let n = data.length 
            for(let i=0;i<21;i++){
                let imgSrc=""
                if(data[i].img ===""){
                    if(data[i].gender === "Male")
                        imgSrc='https://www.shutterstock.com/image-vector/businessman-icon-260nw-564112600.jpg';
                    else 
                        imgSrc='https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS09jmvXRSVsoLauaIW8p3wRQkMPIzJ8CguLw&usqp=CAU'
                }
                htmlData += `
                    <div class="col">
                        <div class="card shadow-sm">
                            <img src=${imgSrc}class="bd-placeholder-img card-img-top" width="100%" height="225" >
                            <div class="card-body">
                            <h3 class= "card-title">${data[i].first_name} ${data[i].last_name}</h3>
                            <p class="card-text">Interests : ${data[i].interests}</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="btn-group">
                                <button type="button" class="btn btn-sm btn-outline-secondary">View</button>
                                </div>
                            </div>
                            </div>
                        </div>
                    </div>

                `
            }
            $('#userContainer').html(htmlData);
        }
        let activePreferences = [] 
        $('.icon').on('click',(req,res)=>{

            let classes = req.currentTarget.getAttribute('class').split(' ');
            req.currentTarget.classList.toggle("clicked")
            let preference = (classes[2]);
            let ind = activePreferences.indexOf(preference)
            if( ind === -1 ){
                activePreferences.push(preference);
            }
            else{
                activePreferences.splice(ind,1);
            }
            // console.log(activePreferences);
            let form_data = {active : activePreferences};
            JSON.stringify(form_data);
            console.log(form_data)
            $.post( "/search", form_data)
            .done(function( data ) {
                console.log(data)
                displayUsers(data);
        })
        })

    </script>
    </body>
</html>